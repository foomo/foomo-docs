"use strict";(self.webpackChunkfoomo=self.webpackChunkfoomo||[]).push([[429],{5158:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>a,contentTitle:()=>s,default:()=>p,frontMatter:()=>c,metadata:()=>i,toc:()=>d});var t=r(5893),l=r(3905),o=r(4562);const c={title:"Panic and Recover",sidebar_position:2,tags:["Go Basics"]},s="Panic and Recover",i={id:"backend/go-by-example/panic-and-recover",title:"Panic and Recover",description:"Panic",source:"@site/docs/backend/go-by-example/panic-and-recover.mdx",sourceDirName:"backend/go-by-example",slug:"/backend/go-by-example/panic-and-recover",permalink:"/docs/backend/go-by-example/panic-and-recover",draft:!1,unlisted:!1,editUrl:"https://github.com/foomo/foomo-docs/tree/main/foomo/docs/backend/go-by-example/panic-and-recover.mdx",tags:[{label:"Go Basics",permalink:"/docs/tags/go-basics"}],version:"current",sidebarPosition:2,frontMatter:{title:"Panic and Recover",sidebar_position:2,tags:["Go Basics"]},sidebar:"backendSidebar",previous:{title:"Defer",permalink:"/docs/backend/go-by-example/defer"},next:{title:"Maps",permalink:"/docs/backend/go-by-example/nil-maps"}},a={},d=[{value:"Panic",id:"panic",level:2},{value:"Panic and Defer",id:"panic-and-defer",level:2},{value:"Panic and Recover",id:"panic-and-recover-1",level:2}];function u(e){const n={code:"code",h1:"h1",h2:"h2",p:"p",pre:"pre",...(0,l.ah)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h1,{id:"panic-and-recover",children:"Panic and Recover"}),"\n",(0,t.jsx)(n.h2,{id:"panic",children:"Panic"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"panic"})," is used whenever our application can no longer function. In Go it's mostly left up to the developer to decide when an error is a problem in your application.\n",(0,t.jsx)(n.code,{children:"panic"})," helps you tell your program it encountered a fatal problem which can not be recovered. Panic always prints a stack trace to help locate the problematic line of code."]}),"\n",(0,t.jsx)(n.h2,{id:"panic-and-defer",children:"Panic and Defer"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-go",children:'func main() {\n    fmt.Println("Start")\n    defer fmt.Println("Deferred")\n    panic("Panic")\n    fmt.Println("End")\n}\n'})}),"\n",(0,t.jsx)(n.p,{children:"The above code will print: 'Start', 'Deferred' and then 'Panic'. This is because defer statements will always be executed even in case of a panic.\nSo the order of execution is: Execute called function, then execute defer statements, and in case of a panic program execution will stop.\nSo even if your application will panic defer statements are handled and therefore resources will be closed accordingly."}),"\n",(0,t.jsx)(n.h2,{id:"panic-and-recover-1",children:"Panic and Recover"}),"\n",(0,t.jsx)(n.p,{children:"Try out the following example:"}),"\n",(0,t.jsx)(o.X,{id:"BN8Boz9LRVX",proportion:1.6}),"\n",(0,t.jsx)(n.p,{children:"The function that panics will stop because it can no longer function so we don't see 'Is this printed?' printed.\nThe recover function makes it possible to obtain the error in case a panic occurred, and leaves the decision how to proceed to the programmer.\nIn this example, we decided to just log the error and continue to run. The function that panicked will stop execution at the panic, but the code that called it will continue to execute,\nwhich is why we see 'End' being printed."})]})}function p(e={}){const{wrapper:n}={...(0,l.ah)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(u,{...e})}):u(e)}},4562:(e,n,r)=>{r.d(n,{X:()=>g});var t=r(7294),l={fullscreenEnabled:0,fullscreenElement:1,requestFullscreen:2,exitFullscreen:3,fullscreenchange:4,fullscreenerror:5,fullscreen:6},o=["webkitFullscreenEnabled","webkitFullscreenElement","webkitRequestFullscreen","webkitExitFullscreen","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],c=["mozFullScreenEnabled","mozFullScreenElement","mozRequestFullScreen","mozCancelFullScreen","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],s=["msFullscreenEnabled","msFullscreenElement","msRequestFullscreen","msExitFullscreen","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"],i="undefined"!=typeof window&&void 0!==window.document?window.document:{},a="fullscreenEnabled"in i&&Object.keys(l)||o[0]in i&&o||c[0]in i&&c||s[0]in i&&s||[];const d={requestFullscreen:function(e){return e[a[l.requestFullscreen]]()},requestFullscreenFunction:function(e){return e[a[l.requestFullscreen]]},get exitFullscreen(){return i[a[l.exitFullscreen]].bind(i)},get fullscreenPseudoClass(){return":"+a[l.fullscreen]},addEventListener:function(e,n,r){return i.addEventListener(a[l[e]],n,r)},removeEventListener:function(e,n,r){return i.removeEventListener(a[l[e]],n,r)},get fullscreenEnabled(){return Boolean(i[a[l.fullscreenEnabled]])},set fullscreenEnabled(e){},get fullscreenElement(){return i[a[l.fullscreenElement]]},set fullscreenElement(e){},get onfullscreenchange(){return i[("on"+a[l.fullscreenchange]).toLowerCase()]},set onfullscreenchange(e){return i[("on"+a[l.fullscreenchange]).toLowerCase()]=e},get onfullscreenerror(){return i[("on"+a[l.fullscreenerror]).toLowerCase()]},set onfullscreenerror(e){return i[("on"+a[l.fullscreenerror]).toLowerCase()]=e}};var u=function(e){var n=e.handle,r=e.onChange,l=e.children,o=e.className,c=[];return o&&c.push(o),c.push("fullscreen"),n.active&&c.push("fullscreen-enabled"),(0,t.useEffect)((function(){r&&r(n.active,n)}),[n.active]),t.createElement("div",{className:c.join(" "),ref:n.node,style:n.active?{height:"100%",width:"100%"}:void 0},l)},p=r(4991),h=r(9030),f=r(7087),m=r(9960),b=r(5893);const g=e=>{const[n,r]=(0,t.useState)(!1),[l,o]=(0,t.useState)(""),c=function(){var e=(0,t.useState)(!1),n=e[0],r=e[1],l=(0,t.useRef)(null);(0,t.useEffect)((function(){var e=function(){r(d.fullscreenElement===l.current)};return d.addEventListener("fullscreenchange",e),function(){return d.removeEventListener("fullscreenchange",e)}}),[]);var o=(0,t.useCallback)((function(){return d.fullscreenElement?d.exitFullscreen().then((function(){return d.requestFullscreen(l.current)})):l.current?d.requestFullscreen(l.current):void 0}),[]),c=(0,t.useCallback)((function(){return d.fullscreenElement===l.current?d.exitFullscreen():Promise.resolve()}),[]);return(0,t.useMemo)((function(){return{active:n,enter:o,exit:c,node:l}}),[n,o,c])}();(0,t.useEffect)((()=>{""==l&&""!==e.id&&fetch("https://docs.bestbytes.com/services/playground?id="+e.id,{mode:"cors"}).then((e=>e.text().then((e=>o(e))))).catch((e=>o("can not load source yet")))}),[l]);const s="https://goplay.tools/snippet/"+e.id;return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{style:{paddingBottom:"1rem",width:"100%"},children:[n?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("button",{className:"button button--primary",onClick:e=>{r(!1)},children:"close playground"})," ",(0,b.jsx)("button",{className:"button button--primary"+(n?"":" disabled"),onClick:e=>{c.enter()},children:"fullscreen"})," "]}):(0,b.jsx)("button",{className:"button button--primary",onClick:e=>{r(!0)},children:"open playground"})," ",(0,b.jsxs)(m.Z,{href:s,children:["go to ",s]})]}),!n&&(0,b.jsx)(f.ZP,{...f.lG,code:l,language:"go",children:e=>{let{className:n,style:r,tokens:t,getLineProps:o,getTokenProps:c}=e;return(0,b.jsxs)("pre",{className:n,style:r,children:[""==l?"... loading sources":"",t.map(((e,n)=>(0,b.jsx)("div",{...o({line:e,key:n}),children:e.map(((e,n)=>(0,b.jsx)("span",{...c({token:e,key:n})})))})))]})}}),(0,b.jsx)("div",{style:{display:n?"block":"none"},children:(0,b.jsx)(h.k,{topic:"load external go playground, with all it\xb4s potentially evil cookies coming from https://goplay.tools",id:"goPlaygroundIsCool",children:(0,b.jsx)("div",{children:(0,b.jsx)(u,{handle:c,children:(0,b.jsx)(p.h,{src:s,proportion:e.proportion})})})})})]})}},4991:(e,n,r)=>{r.d(n,{h:()=>l});r(7294);var t=r(5893);const l=e=>{let{proportion:n,src:r,style:l}=e;return n||(n=4/3),l&&(l={}),(0,t.jsx)("div",{style:{width:"100%",height:0,paddingTop:100/n+"%",position:"relative",float:"left",...l},children:(0,t.jsx)("iframe",{style:{width:"100%",height:"100%",display:"block",position:"absolute",top:0,left:0},src:r,frameBorder:"0",scrolling:"no",allowFullScreen:!0})})}},9030:(e,n,r)=>{r.d(n,{k:()=>c});var t=r(7294),l=r(5893);const o="undefined"==typeof localStorage,c=e=>{const[n,r]=(0,t.useState)((c=e.id,"undefined"!=typeof localStorage&&localStorage.getItem(c)));var c;return(0,t.useEffect)((()=>{console.log("well it is cool",e.id,{isCool:n,SSR:o})}),[n,o]),n?e.children:(0,l.jsx)("div",{children:(0,l.jsx)("button",{className:"button button--lg button--secondary",onClick:n=>{localStorage.setItem(e.id,"yes"),r(!0)},children:e.topic})})}}}]);