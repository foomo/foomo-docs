"use strict";(self.webpackChunkfoomo=self.webpackChunkfoomo||[]).push([[3393],{8106:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>o,contentTitle:()=>i,default:()=>m,frontMatter:()=>a,metadata:()=>l,toc:()=>c});var r=t(5893),s=t(3905);const a={slug:"sse",authors:["jan"],tags:["javascript","go","sse"]},i="SSE Server Sent Events",l={id:"general/technologies/SSE",title:"SSE Server Sent Events",description:"Server Sent Events SSE are a well established web standard.",source:"@site/docs/general/technologies/SSE.md",sourceDirName:"general/technologies",slug:"/general/technologies/sse",permalink:"/docs/general/technologies/sse",draft:!1,unlisted:!1,editUrl:"https://github.com/foomo/foomo-docs/tree/main/foomo/docs/general/technologies/SSE.md",tags:[{label:"javascript",permalink:"/docs/tags/javascript"},{label:"go",permalink:"/docs/tags/go"},{label:"sse",permalink:"/docs/tags/sse"}],version:"current",frontMatter:{slug:"sse",authors:["jan"],tags:["javascript","go","sse"]},sidebar:"generalSidebar",previous:{title:"Package managers",permalink:"/docs/general/package-managers"},next:{title:"(Random) essentials",permalink:"/docs/general/essentials"}},o={},c=[{value:"Minimal Example in action",id:"minimal-example-in-action",level:2},{value:"Minimal server",id:"minimal-server",level:2},{value:"serving the frontend",id:"serving-the-frontend",level:3},{value:"serving time events",id:"serving-time-events",level:3},{value:"Minimal client",id:"minimal-client",level:2}];function h(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.ah)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h1,{id:"sse-server-sent-events",children:"SSE Server Sent Events"}),"\n",(0,r.jsxs)(n.p,{children:["Server Sent Events ",(0,r.jsx)(n.a,{href:"https://html.spec.whatwg.org/multipage/server-sent-events.html",children:"SSE"})," are a well established web standard."]}),"\n",(0,r.jsx)(n.p,{children:"They allow a web server to push messages to the client."}),"\n",(0,r.jsxs)(n.p,{children:["I have created a minimal example ",(0,r.jsx)(n.a,{href:"https://github.com/janhalfar/sse-playground/tree/main/minimal",children:"https://github.com/janhalfar/sse-playground/tree/main/minimal"})," to illustrate the technology."]}),"\n",(0,r.jsx)(n.h2,{id:"minimal-example-in-action",children:"Minimal Example in action"}),"\n",(0,r.jsxs)(n.p,{children:["if you clone ",(0,r.jsx)(n.a,{href:"https://github.com/janhalfar/sse-playground",children:"https://github.com/janhalfar/sse-playground"})," locally and run ",(0,r.jsx)("nobr",{children:(0,r.jsx)(n.code,{children:"go run minimal/main.go"})})," you will be able to open ",(0,r.jsx)(n.a,{href:"http://localhost:8080",children:"http://localhost:8080"})," :"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"screenshot of chrome debugging SSE",src:t(9411).Z+"",width:"2908",height:"3214"})}),"\n",(0,r.jsx)(n.h2,{id:"minimal-server",children:"Minimal server"}),"\n",(0,r.jsx)(n.p,{children:"This server will:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["serve its minimal frontend on ",(0,r.jsx)(n.a,{href:"http://localhost:8080",children:"http://localhost:8080"})]}),"\n",(0,r.jsxs)(n.li,{children:["serve a time event 100 times on ",(0,r.jsx)(n.a,{href:"http://localhost/sse/time",children:"http://localhost/sse/time"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Let\xb4s take a look at the server response with:"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"curl -v localhost:8080/sse/time"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-zsh",children:"% curl -v localhost:8080/sse/time\n*   Trying 127.0.0.1:8080...\n* Connected to localhost (127.0.0.1) port 8080 (#0)\n> GET /sse/time HTTP/1.1\n> Host: localhost:8080\n> User-Agent: curl/7.79.1\n> Accept: */*\n>\n* Mark bundle as not supporting multiuse\n< HTTP/1.1 200 OK\n< Content-Type: text/event-stream\n< Date: Fri, 16 Sep 2022 14:49:17 GMT\n< Transfer-Encoding: chunked\n<\nevent: time\nid: 1\ndata: 2022-09-16T16:49:17.482796+02:00\n\nevent: time\nid: 2\ndata: 2022-09-16T16:49:17.498366+02:00\n\nevent: time\nid: 3\ndata: 2022-09-16T16:49:17.514079+02:00\n\nevent: time\nid: 4\ndata: 2022-09-16T16:49:17.529639+02:00\n\nevent: time\nid: 5\ndata: 2022-09-16T16:49:17.545335+02:00\n\n...\n"})}),"\n",(0,r.jsx)(n.h3,{id:"serving-the-frontend",children:"serving the frontend"}),"\n",(0,r.jsx)(n.p,{children:"The first thing the server is to serve a frontend, which is described below:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",metastring:'reference title="serve the embedded index.html"',children:"https://github.com/janhalfar/sse-playground/blob/main/minimal/main.go#L16-L18\n"})}),"\n",(0,r.jsx)(n.h3,{id:"serving-time-events",children:"serving time events"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",metastring:'reference title="serve an event stream of 100 server sent events"',children:"https://github.com/janhalfar/sse-playground/blob/main/minimal/main.go#L20-L43\n"})}),"\n",(0,r.jsx)(n.h2,{id:"minimal-client",children:"Minimal client"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",metastring:'reference title="a minimal and incomplete client example"',children:"https://github.com/janhalfar/sse-playground/blob/main/minimal/index.html#L11-L30\n"})})]})}function m(e={}){const{wrapper:n}={...(0,s.ah)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}},3905:(e,n,t)=>{t.d(n,{ah:()=>c});var r=t(7294);function s(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach((function(n){s(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,r,s=function(e,n){if(null==e)return{};var t,r,s={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(s[t]=e[t]);return s}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(s[t]=e[t])}return s}var o=r.createContext({}),c=function(e){var n=r.useContext(o),t=n;return e&&(t="function"==typeof e?e(n):i(i({},n),e)),t},h={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},m=r.forwardRef((function(e,n){var t=e.components,s=e.mdxType,a=e.originalType,o=e.parentName,m=l(e,["components","mdxType","originalType","parentName"]),d=c(t),p=s,g=d["".concat(o,".").concat(p)]||d[p]||h[p]||a;return t?r.createElement(g,i(i({ref:n},m),{},{components:t})):r.createElement(g,i({ref:n},m))}));m.displayName="MDXCreateElement"},9411:(e,n,t)=>{t.d(n,{Z:()=>r});const r=t.p+"assets/images/sse-minimal-8e509ce578077ebdc2ca78a9199632e5.png"}}]);