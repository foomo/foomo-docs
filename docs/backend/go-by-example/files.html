<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-backend/go-by-example/files" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.0.0">
<title data-rh="true">Files | foomo project docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://www.foomo.org/docs/backend/go-by-example/files"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Files | foomo project docs"><meta data-rh="true" name="description" content="There are multiple packages we can utilize for reading files in a go program. We&#x27;ll go over the most commonly used ones in this section."><meta data-rh="true" property="og:description" content="There are multiple packages we can utilize for reading files in a go program. We&#x27;ll go over the most commonly used ones in this section."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://www.foomo.org/docs/backend/go-by-example/files"><link data-rh="true" rel="alternate" href="https://www.foomo.org/docs/backend/go-by-example/files" hreflang="en"><link data-rh="true" rel="alternate" href="https://www.foomo.org/docs/backend/go-by-example/files" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://SUATUVZDDM-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="foomo project docs RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="foomo project docs Atom Feed">



<link rel="search" type="application/opensearchdescription+xml" title="foomo project docs" href="/opensearch.xml"><link rel="stylesheet" href="/assets/css/styles.78fe5ce6.css">
<script src="/assets/js/runtime~main.638e5c2c.js" defer="defer"></script>
<script src="/assets/js/main.1248442c.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><b class="navbar__title text--truncate">foomo</b></a><a class="navbar__item navbar__link" href="/docs/general">General</a><a class="navbar__item navbar__link" href="/docs/frontend">Frontend</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/backend">Backend</a><a class="navbar__item navbar__link" href="/docs/devops">DevOps</a><a class="navbar__item navbar__link" href="/docs/projects">Projects</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/blog">Blog</a><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/backend">Backend Guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/backend/rtfm">RTFM</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/backend/setup">Setup</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/backend/go-by-example/defer">Go by example</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/backend/go-by-example/defer">Defer</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/backend/go-by-example/panic-and-recover">Panic and Recover</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/backend/go-by-example/nil-maps">Maps</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/backend/go-by-example/ranging">Ranging and Looping</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/backend/go-by-example/cli-applications">CLI applications</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/backend/go-by-example/context">Context</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/backend/go-by-example/embed">Embed</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/backend/go-by-example/files">Files</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/backend/go-by-example/goroutines-and-channels">Go Routines and Channels</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/backend/go-by-example/http">HTTP Client and Server</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/backend/go-by-example/interfaces">Interfaces</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/backend/go-by-example/map-racing">Map Races</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/backend/go-by-example/mongodb">MongoDB</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/backend/go-by-example/reflection">Reflection</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/backend/go-by-example/type-casting">Type Casting</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/backend/go-by-example/waitgroups">waitgroups</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/backend/go-by-example/yaml-magic">Yaml magic</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/backend/gograpple">Gograpple</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/backend/profiling">Profiling Go applications</a><button aria-label="Expand sidebar category &#x27;Profiling Go applications&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Go by example</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Files</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1 id="files">Files</h1>
<p>There are multiple packages we can utilize for reading files in a go program. We&#x27;ll go over the most commonly used ones in this section.
These include: <code>os</code>, <code>io</code>, <code>ioutil</code> and <code>bufio</code>. We&#x27;ll go over some commonly used methods for each of these packages in this section.</p>
<h2 id="ioutil">IOUtil</h2>
<h3 id="read-whole-file">Read Whole File</h3>
<p>To read a whole file you can use the <code>ReadFile</code> function.</p>
<pre><code class="language-go">// Takes a filepath as argument
// Returns a byteslice and an error
byteslice, err := ioutil.ReadFile(filepath)
</code></pre>
<h2 id="os">OS</h2>
<p>The <code>os</code> package provides and interface with methods to handle files on your operating system in go.</p>
<h3 id="open-files">Open Files</h3>
<p>To open a file using the <code>os</code> package, use the Open method. This method takes a filepath and returns the opened file and an error.</p>
<pre><code class="language-go">file, err := os.Open(filepath)
</code></pre>
<h3 id="reading-files">Reading Files</h3>
<p>To read a file using the <code>os</code> package, use the ReadFile method. This method takes a filepath and returns the contents of the file in a byteslice and an error.</p>
<pre><code class="language-go">byteslice, err := os.ReadFile(filepath)
</code></pre>
<h3 id="writing-files">Writing Files</h3>
<h3 id="getting-file-information">Getting File Information</h3>
<p>To get information about a file using the <code>os</code> package, use the Stat method. This method takes a filepath and information of the selected file and an error.
This information includes methods: Name() to get the name of the file, Size() to get the size the file in bytes, Mode() to get the mode of the file,
IsDir() to find out if it is a directory, ModTime() showing when the file was last modified, and Sys() describing the underlying data source.</p>
<pre><code class="language-go">fileInfo, err := os.Stat(filepath)
</code></pre>
<h2 id="bufio">BufIO</h2>
<p>Sometimes opening a whole file is not ideal, this is for example when you have a very large log file. All of it is going to be opened in memory.
For these cases you can buffer the IO, this can increase the speed of your application by reducing the number of system calls made.
Bufio provides ways to read by the file in batches. Commonly used methods in the bufIO package include: <code>Scanner</code>, <code>ReadSlice</code>,<code>ReadBytes</code> and <code>ReadLines</code>.</p>
<h3 id="scanner">Scanner</h3>
<p>Breaks the data up in tokens. Open the file with the <code>os</code> Open function and pass the reader to the NewScanner function. This will return a pointer to a Scanner.</p>
<pre><code class="language-go">myScanner =  bufio.NewScanner(myIOReader)
</code></pre>
<h3 id="readslice">ReadSlice</h3>
<p>This function returns a slice of the passed string based on the delimiter you pass it.
It will return every slice with the delimiter. To call it initialize a new reader with the specified string and pass the ReadSlice method a delimiter.</p>
<div style="padding-bottom:1rem;width:100%"><button class="button button--primary">open playground</button> <a href="https://goplay.tools/snippet/0ZFnnUjBk6l" target="_blank" rel="noopener noreferrer">go to <!-- -->https://goplay.tools/snippet/0ZFnnUjBk6l</a></div><pre class="prism-code language-go" style="background-color:#2a2734;color:#9a86fd">... loading sources<div class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block">
</span></div></pre><div style="display:none"><div><button class="button button--lg button--secondary">load external go playground, with all it´s potentially evil cookies coming from https://goplay.tools</button></div></div>
<h3 id="readbytes">ReadBytes</h3>
<p>ReadBytes builds on the ReadSlice functionality and is called in a similar fashion. The difference is that ReadSlice is bound to a buffersize, if it does
not reach the delimiter within that size it will fail. ReadBytes is able to call ReadSlice multiple times which means that if you go over the buffersize
it won&#x27;t encounter a problem. To demonstrate:</p>
<div style="padding-bottom:1rem;width:100%"><button class="button button--primary">open playground</button> <a href="https://goplay.tools/snippet/Jl9B6I1a8d-" target="_blank" rel="noopener noreferrer">go to <!-- -->https://goplay.tools/snippet/Jl9B6I1a8d-</a></div><pre class="prism-code language-go" style="background-color:#2a2734;color:#9a86fd">... loading sources<div class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block">
</span></div></pre><div style="display:none"><div><button class="button button--lg button--secondary">load external go playground, with all it´s potentially evil cookies coming from https://goplay.tools</button></div></div>
<h2 id="examples">Examples</h2>
<h3 id="read-lines">Read Lines</h3>
<p>The following code provides a way to read lines from a file. It uses the <code>os</code> package to open the file and then <code>bufio</code> to create a scanner
that reads the file line by line.</p>
<pre><code class="language-go">package main

import (
	&quot;fmt&quot;
	&quot;os&quot;
    &quot;bufio&quot;
)

func main() {

    file, err := os.Open(filepath)
        if err != nil {
            fmt.Println(&quot;Error:&quot;, err.Error())
            return
        }
        defer os.Close() // Make sure to always close your resources

    scanner := bufio.NewScanner(file)
    for scanner.Scan() { // returns a boolean, so until the end of the file is reached this loop will run
        fmt.Println(scanner.Text())
    }
}
</code></pre>
<h3 id="read-bytes">Read Bytes</h3>
<pre><code class="language-go">package main

import (
	&quot;fmt&quot;
	&quot;os&quot;
    &quot;bufio&quot;
    &quot;io&quot;
)

func main() {

    fileHandler, err := os.Open(filename)
        if err != nil {
            fmt.Println(&quot;Error:&quot;, err.Error())
            return
        }
        defer os.Close() // Make sure to always close your resources


    myBuffer := make([]byte, size) // Make a buffer with size of size
    for { 
        readBytes, err := fileHandler.Read(buf) 
        if err != nil {
            if err != io.EOF {
                fmt.Println(&quot;Error:&quot;, err.Error())
                return
            }
            break
        }

        fmt.Println(string(myBuffer[:readBytes]))
    }
}
</code></pre></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-tags-row row margin-bottom--sm"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/docs/tags/go-basics">Go Basics</a></li></ul></div></div><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/foomo/foomo-docs/tree/main/foomo/docs/backend/go-by-example/files.mdx" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/backend/go-by-example/embed"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Embed</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/backend/go-by-example/goroutines-and-channels"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Go Routines and Channels</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#ioutil" class="table-of-contents__link toc-highlight">IOUtil</a><ul><li><a href="#read-whole-file" class="table-of-contents__link toc-highlight">Read Whole File</a></li></ul></li><li><a href="#os" class="table-of-contents__link toc-highlight">OS</a><ul><li><a href="#open-files" class="table-of-contents__link toc-highlight">Open Files</a></li><li><a href="#reading-files" class="table-of-contents__link toc-highlight">Reading Files</a></li><li><a href="#writing-files" class="table-of-contents__link toc-highlight">Writing Files</a></li><li><a href="#getting-file-information" class="table-of-contents__link toc-highlight">Getting File Information</a></li></ul></li><li><a href="#bufio" class="table-of-contents__link toc-highlight">BufIO</a><ul><li><a href="#scanner" class="table-of-contents__link toc-highlight">Scanner</a></li><li><a href="#readslice" class="table-of-contents__link toc-highlight">ReadSlice</a></li><li><a href="#readbytes" class="table-of-contents__link toc-highlight">ReadBytes</a></li></ul></li><li><a href="#examples" class="table-of-contents__link toc-highlight">Examples</a><ul><li><a href="#read-lines" class="table-of-contents__link toc-highlight">Read Lines</a></li><li><a href="#read-bytes" class="table-of-contents__link toc-highlight">Read Bytes</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">github</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/foomo" target="_blank" rel="noopener noreferrer" class="footer__link-item">https://github.com/foomo</a></li></ul></div><div class="col footer__col"><div class="footer__title">legal</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/etc/imprint">Imprint</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">© 2024 bestbytes</div></div></div></footer></div>
</body>
</html>